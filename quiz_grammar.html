<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>English Grammar Quiz with Timer</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to right, #74ebd5, #9face6);
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 900px;
      margin: 50px auto;
      padding: 40px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      position: relative;
    }
    h1 {
      color: #2c3e50;
      text-align: center;
    }
    p {
      text-align: center;
    }
    #timer {
      font-size: 1.3em;
      font-weight: 700;
      color: #2980b9;
      text-align: center;
      margin-bottom: 25px;
    }
    ol {
      padding-left: 20px;
    }
    li {
      margin-bottom: 20px;
      font-size: 1.05em;
    }
    button {
      background-color: #2980b9;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 1em;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      display: block;
      margin: 30px auto 10px;
    }
    button:hover {
      background-color: #1f6391;
    }
    #quizResult {
      font-weight: bold;
      margin-top: 20px;
      text-align: center;
      font-size: 1.2em;
    }
    a {
      display: block;
      margin-top: 30px;
      text-align: center;
      text-decoration: none;
      color: #2980b9;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>English Grammar Quiz</h1>
    <p>Test your understanding of Relative Pronouns, Conditional Sentences, Subject-Verb Agreement, Participles, and Comparatives.</p>

    <div id="timer">Time Remaining: 02:00</div>

    <form id="quizForm">
      <ol>
        <li>
          The woman _______ called you is my aunt.<br />
          <input type="radio" name="q1" value="a" /> a) whom<br />
          <input type="radio" name="q1" value="b" /> b) whose<br />
          <input type="radio" name="q1" value="c" /> c) who
        </li>
        <li>
          If I had studied harder, I _______ the test.<br />
          <input type="radio" name="q2" value="a" /> a) would have passed<br />
          <input type="radio" name="q2" value="b" /> b) will pass<br />
          <input type="radio" name="q2" value="c" /> c) pass
        </li>
        <li>
          Each of the students _______ responsible for their homework.<br />
          <input type="radio" name="q3" value="a" /> a) are<br />
          <input type="radio" name="q3" value="b" /> b) is<br />
          <input type="radio" name="q3" value="c" /> c) were
        </li>
        <li>
          The letter _______ by my teacher made me happy.<br />
          <input type="radio" name="q4" value="a" /> a) writing<br />
          <input type="radio" name="q4" value="b" /> b) written<br />
          <input type="radio" name="q4" value="c" /> c) wrote
        </li>
        <li>
          If it rains, we _______ indoors.<br />
          <input type="radio" name="q5" value="a" /> a) would stay<br />
          <input type="radio" name="q5" value="b" /> b) stay<br />
          <input type="radio" name="q5" value="c" /> c) will stay
        </li>
        <li>
          The man to _______ she was talking is my uncle.<br />
          <input type="radio" name="q6" value="a" /> a) who<br />
          <input type="radio" name="q6" value="b" /> b) whom<br />
          <input type="radio" name="q6" value="c" /> c) whose
        </li>
        <li>
          If he _______ earlier, he wouldn't have missed the train.<br />
          <input type="radio" name="q7" value="a" /> a) had left<br />
          <input type="radio" name="q7" value="b" /> b) leaves<br />
          <input type="radio" name="q7" value="c" /> c) will leave
        </li>
        <li>
          Neither of the answers _______ correct.<br />
          <input type="radio" name="q8" value="a" /> a) were<br />
          <input type="radio" name="q8" value="b" /> b) are<br />
          <input type="radio" name="q8" value="c" /> c) is
        </li>
        <li>
          The students _______ in the library are my classmates.<br />
          <input type="radio" name="q9" value="a" /> a) studying<br />
          <input type="radio" name="q9" value="b" /> b) studied<br />
          <input type="radio" name="q9" value="c" /> c) study
        </li>
        <li>
          I will help you if you _______ me.<br />
          <input type="radio" name="q10" value="a" /> a) had asked<br />
          <input type="radio" name="q10" value="b" /> b) ask<br />
          <input type="radio" name="q10" value="c" /> c) asked
        </li>
        <!-- Soal Comparatives baru -->
        <li>
          This book is _______ than the one I read last week.<br />
          <input type="radio" name="q11" value="a" /> a) more interesting<br />
          <input type="radio" name="q11" value="b" /> b) most interesting<br />
          <input type="radio" name="q11" value="c" /> c) interestinger
        </li>
        <li>
          My house is _______ than yours.<br />
          <input type="radio" name="q12" value="a" /> a) big<br />
          <input type="radio" name="q12" value="b" /> b) bigger<br />
          <input type="radio" name="q12" value="c" /> c) biggest
        </li>
        <li>
          She runs _______ than her brother.<br />
          <input type="radio" name="q13" value="a" /> a) more fast<br />
          <input type="radio" name="q13" value="b" /> b) faster<br />
          <input type="radio" name="q13" value="c" /> c) fastest
        </li>
      </ol>
      <button type="button" onclick="checkAnswers()">Submit</button>
    </form>

    <p id="quizResult"></p>

    <a href="homepage.html">&larr; Back to Main Menu</a>
  </div>

  <script>
    const timerDisplay = document.getElementById('timer');
    const totalTime = 120; // 120 seconds = 2 minutes
    let timeLeft = totalTime;

    function updateTimer() {
      let minutes = Math.floor(timeLeft / 60);
      let seconds = timeLeft % 60;
      timerDisplay.textContent = `Time Remaining: ${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
      if (timeLeft === 0) {
        clearInterval(timerInterval);
        alert("Time's up! Submitting your quiz.");
        checkAnswers();
      }
      timeLeft--;
    }

    const timerInterval = setInterval(updateTimer, 1000);
    updateTimer(); // initial call

    function checkAnswers() {
      clearInterval(timerInterval); // stop timer on submit

      const answers = {
        q1: "c",
        q2: "a",
        q3: "b",
        q4: "b",
        q5: "c",
        q6: "b",
        q7: "a",
        q8: "c",
        q9: "a",
        q10: "b",
        q11: "a",  // more interesting
        q12: "b",  // bigger
        q13: "b"   // faster
      };

      let score = 0;
      let total = Object.keys(answers).length;

      for (let q in answers) {
        const selected = document.querySelector(`input[name="${q}"]:checked`);
        if (selected && selected.value === answers[q]) {
          score++;
        }
      }

      const result = document.getElementById("quizResult");
      if (score === total) {
        result.textContent = `üéâ Excellent! You got ${score} out of ${total} correct.`;
        result.style.color = "green";
      } else if (score >= total * 0.7) {
        result.textContent = `üëç Good job! You got ${score} out of ${total}.`;
        result.style.color = "orange";
      } else {
        result.textContent = `üìö Keep practicing. You got ${score} out of ${total}. Review the material and try again.`;
        result.style.color = "red";
      }
    }
  </script>
</body>
</html>
